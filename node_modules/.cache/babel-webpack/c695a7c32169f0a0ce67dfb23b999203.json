{"ast":null,"code":"import _classCallCheck from \"/Users/mac/Apps/sr-manager/srmanager/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/mac/Apps/sr-manager/srmanager/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport * as Plyr from 'plyr';\nimport { __decorate, __metadata } from 'tslib';\nimport { ElementRef, NgZone, Renderer2, Input, ViewChild, Output, Component, NgModule } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { filter, first, switchMap } from 'rxjs/operators';\nimport * as ɵngcc0 from '@angular/core';\nvar _c0 = [\"v\"];\n\nvar DefaultPlyrDriver = /*#__PURE__*/function () {\n  function DefaultPlyrDriver() {\n    _classCallCheck(this, DefaultPlyrDriver);\n  }\n\n  _createClass(DefaultPlyrDriver, [{\n    key: \"create\",\n    value: function create(params) {\n      return new Plyr(params.videoElement, params.options);\n    }\n  }, {\n    key: \"updateSource\",\n    value: function updateSource(params) {\n      params.plyr.source = params.source;\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy(params) {\n      params.plyr.destroy();\n    }\n  }]);\n\n  return DefaultPlyrDriver;\n}();\n\nvar PlyrComponent = /*#__PURE__*/function () {\n  function PlyrComponent(elementRef, ngZone, renderer) {\n    _classCallCheck(this, PlyrComponent);\n\n    this.elementRef = elementRef;\n    this.ngZone = ngZone;\n    this.renderer = renderer;\n    this.playerChange = new BehaviorSubject(null);\n    this.events = new Map();\n    this.plyrType = 'video'; // ngx-plyr events\n\n    this.plyrInit = this.playerChange.pipe(filter(function (player) {\n      return !!player;\n    })); // standard media events\n\n    this.plyrProgress = this.createLazyEvent('progress');\n    this.plyrPlaying = this.createLazyEvent('playing');\n    this.plyrPlay = this.createLazyEvent('play');\n    this.plyrPause = this.createLazyEvent('pause');\n    this.plyrTimeUpdate = this.createLazyEvent('timeupdate');\n    this.plyrVolumeChange = this.createLazyEvent('volumechange');\n    this.plyrSeeking = this.createLazyEvent('seeking');\n    this.plyrSeeked = this.createLazyEvent('seeked');\n    this.plyrRateChange = this.createLazyEvent('ratechange');\n    this.plyrEnded = this.createLazyEvent('ended');\n    this.plyrEnterFullScreen = this.createLazyEvent('enterfullscreen');\n    this.plyrExitFullScreen = this.createLazyEvent('exitfullscreen');\n    this.plyrCaptionsEnabled = this.createLazyEvent('captionsenabled');\n    this.plyrCaptionsDisabled = this.createLazyEvent('captionsdisabled');\n    this.plyrLanguageChange = this.createLazyEvent('languagechange');\n    this.plyrControlsHidden = this.createLazyEvent('controlshidden');\n    this.plyrControlsShown = this.createLazyEvent('controlsshown');\n    this.plyrReady = this.createLazyEvent('ready'); // HTML5 events\n\n    this.plyrLoadStart = this.createLazyEvent('loadstart');\n    this.plyrLoadedData = this.createLazyEvent('loadeddata');\n    this.plyrLoadedMetadata = this.createLazyEvent('loadedmetadata');\n    this.plyrQualityChange = this.createLazyEvent('qualitychange');\n    this.plyrCanPlay = this.createLazyEvent('canplay');\n    this.plyrCanPlayThrough = this.createLazyEvent('canplaythrough');\n    this.plyrStalled = this.createLazyEvent('stalled');\n    this.plyrWaiting = this.createLazyEvent('waiting');\n    this.plyrEmptied = this.createLazyEvent('emptied');\n    this.plyrCueChange = this.createLazyEvent('cuechange');\n    this.plyrError = this.createLazyEvent('error'); // YouTube events\n\n    this.plyrStateChange = this.createLazyEvent('statechange');\n    this.subscriptions = [];\n  }\n\n  _createClass(PlyrComponent, [{\n    key: \"player\",\n    get: function get() {\n      return this.playerChange.getValue();\n    }\n  }, {\n    key: \"ngOnChanges\",\n    value: function ngOnChanges(changes) {\n      var _this = this;\n\n      this.subscriptions.push(this.plyrInit.pipe(first()).subscribe(function (player) {\n        var reinitTriggers = [changes.plyrOptions, changes.plyrPlaysInline, changes.plyrCrossOrigin].filter(function (t) {\n          return !!t;\n        });\n\n        if (reinitTriggers.length) {\n          if (reinitTriggers.some(function (t) {\n            return !t.firstChange;\n          })) {\n            _this.initPlyr(true);\n          }\n        } else {\n          _this.updatePlyrSource(player);\n        }\n      }));\n    }\n  }, {\n    key: \"ngOnDestroy\",\n    value: function ngOnDestroy() {\n      this.destroyPlayer();\n      this.subscriptions.forEach(function (s) {\n        return s.unsubscribe();\n      });\n    }\n  }, {\n    key: \"ngAfterViewInit\",\n    value: function ngAfterViewInit() {\n      this.initPlyr();\n    }\n  }, {\n    key: \"initPlyr\",\n    value: function initPlyr() {\n      var _this2 = this;\n\n      var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n      if (force || !this.player) {\n        this.ngZone.runOutsideAngular(function () {\n          _this2.destroyPlayer();\n\n          _this2.driver = _this2.plyrDriver || new DefaultPlyrDriver();\n\n          _this2.ensureVideoElement();\n\n          var newPlayer = _this2.driver.create({\n            videoElement: _this2.videoElement,\n            options: _this2.plyrOptions\n          });\n\n          _this2.updatePlyrSource(newPlayer);\n\n          _this2.playerChange.next(newPlayer);\n        });\n      }\n    }\n  }, {\n    key: \"updatePlyrSource\",\n    value: function updatePlyrSource(plyr) {\n      this.driver.updateSource({\n        videoElement: this.videoElement,\n        plyr: plyr,\n        source: {\n          type: this.plyrType,\n          title: this.plyrTitle,\n          sources: this.plyrSources,\n          poster: this.plyrPoster,\n          tracks: this.plyrTracks\n        }\n      });\n    } // see https://stackoverflow.com/a/53704102/1990451\n\n  }, {\n    key: \"createLazyEvent\",\n    value: function createLazyEvent(name) {\n      var _this3 = this;\n\n      return this.plyrInit.pipe(switchMap(function () {\n        return new Observable(function (observer) {\n          return _this3.on(name, function (data) {\n            return _this3.ngZone.run(function () {\n              return observer.next(data);\n            });\n          });\n        });\n      }));\n    }\n  }, {\n    key: \"destroyPlayer\",\n    value: function destroyPlayer() {\n      var _this4 = this;\n\n      if (this.player) {\n        Array.from(this.events.keys()).forEach(function (name) {\n          return _this4.off(name);\n        });\n        this.driver.destroy({\n          plyr: this.player\n        });\n        this.videoElement = null;\n      }\n    }\n  }, {\n    key: \"hostElement\",\n    get: function get() {\n      return this.elementRef.nativeElement;\n    } // this method is required because the plyr inserts clone of the original element on destroy\n    // so we catch the clone element right here and reuse it\n\n  }, {\n    key: \"ensureVideoElement\",\n    value: function ensureVideoElement() {\n      var videoElement = this.hostElement.querySelector('video');\n\n      if (videoElement) {\n        this.videoElement = videoElement;\n      } else {\n        this.videoElement = this.renderer.createElement('video');\n        this.videoElement.controls = true;\n\n        if (this.plyrCrossOrigin) {\n          this.videoElement.setAttribute('crossorigin', '');\n        }\n\n        if (this.plyrPlaysInline) {\n          this.videoElement.setAttribute('playsinline', '');\n        }\n\n        this.renderer.appendChild(this.hostElement, this.videoElement);\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(name, handler) {\n      this.events.set(name, handler);\n      this.player.on(name, handler);\n    }\n  }, {\n    key: \"off\",\n    value: function off(name) {\n      this.player.off(name, this.events.get(name));\n      this.events.delete(name);\n    }\n  }]);\n\n  return PlyrComponent;\n}();\n\nPlyrComponent.ɵfac = function PlyrComponent_Factory(t) {\n  return new (t || PlyrComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2));\n};\n\nPlyrComponent.ɵcmp = /*@__PURE__*/ɵngcc0.ɵɵdefineComponent({\n  type: PlyrComponent,\n  selectors: [[\"plyr\"], [\"\", \"plyr\", \"\"]],\n  viewQuery: function PlyrComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      ɵngcc0.ɵɵviewQuery(_c0, 5);\n    }\n\n    if (rf & 2) {\n      var _t;\n\n      ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.vr = _t.first);\n    }\n  },\n  inputs: {\n    plyrType: \"plyrType\",\n    plyrDriver: \"plyrDriver\",\n    plyrTitle: \"plyrTitle\",\n    plyrPoster: \"plyrPoster\",\n    plyrSources: \"plyrSources\",\n    plyrTracks: \"plyrTracks\",\n    plyrOptions: \"plyrOptions\",\n    plyrCrossOrigin: \"plyrCrossOrigin\",\n    plyrPlaysInline: \"plyrPlaysInline\"\n  },\n  outputs: {\n    plyrInit: \"plyrInit\",\n    plyrProgress: \"plyrProgress\",\n    plyrPlaying: \"plyrPlaying\",\n    plyrPlay: \"plyrPlay\",\n    plyrPause: \"plyrPause\",\n    plyrTimeUpdate: \"plyrTimeUpdate\",\n    plyrVolumeChange: \"plyrVolumeChange\",\n    plyrSeeking: \"plyrSeeking\",\n    plyrSeeked: \"plyrSeeked\",\n    plyrRateChange: \"plyrRateChange\",\n    plyrEnded: \"plyrEnded\",\n    plyrEnterFullScreen: \"plyrEnterFullScreen\",\n    plyrExitFullScreen: \"plyrExitFullScreen\",\n    plyrCaptionsEnabled: \"plyrCaptionsEnabled\",\n    plyrCaptionsDisabled: \"plyrCaptionsDisabled\",\n    plyrLanguageChange: \"plyrLanguageChange\",\n    plyrControlsHidden: \"plyrControlsHidden\",\n    plyrControlsShown: \"plyrControlsShown\",\n    plyrReady: \"plyrReady\",\n    plyrLoadStart: \"plyrLoadStart\",\n    plyrLoadedData: \"plyrLoadedData\",\n    plyrLoadedMetadata: \"plyrLoadedMetadata\",\n    plyrQualityChange: \"plyrQualityChange\",\n    plyrCanPlay: \"plyrCanPlay\",\n    plyrCanPlayThrough: \"plyrCanPlayThrough\",\n    plyrStalled: \"plyrStalled\",\n    plyrWaiting: \"plyrWaiting\",\n    plyrEmptied: \"plyrEmptied\",\n    plyrCueChange: \"plyrCueChange\",\n    plyrError: \"plyrError\",\n    plyrStateChange: \"plyrStateChange\"\n  },\n  exportAs: [\"plyr\"],\n  features: [ɵngcc0.ɵɵNgOnChangesFeature],\n  decls: 0,\n  vars: 0,\n  template: function PlyrComponent_Template(rf, ctx) {},\n  styles: [\"\"]\n});\n\nPlyrComponent.ctorParameters = function () {\n  return [{\n    type: ElementRef\n  }, {\n    type: NgZone\n  }, {\n    type: Renderer2\n  }];\n};\n\n__decorate([Input(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrDriver\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], PlyrComponent.prototype, \"plyrType\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], PlyrComponent.prototype, \"plyrTitle\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", String)], PlyrComponent.prototype, \"plyrPoster\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Array)], PlyrComponent.prototype, \"plyrSources\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Array)], PlyrComponent.prototype, \"plyrTracks\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrOptions\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], PlyrComponent.prototype, \"plyrCrossOrigin\", void 0);\n\n__decorate([Input(), __metadata(\"design:type\", Boolean)], PlyrComponent.prototype, \"plyrPlaysInline\", void 0);\n\n__decorate([ViewChild('v'), __metadata(\"design:type\", ElementRef)], PlyrComponent.prototype, \"vr\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrInit\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrProgress\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrPlaying\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrPlay\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrPause\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrTimeUpdate\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrVolumeChange\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrSeeking\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrSeeked\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrRateChange\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrEnded\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrEnterFullScreen\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrExitFullScreen\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrCaptionsEnabled\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrCaptionsDisabled\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrLanguageChange\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrControlsHidden\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrControlsShown\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrReady\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrLoadStart\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrLoadedData\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrLoadedMetadata\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrQualityChange\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrCanPlay\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrCanPlayThrough\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrStalled\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrWaiting\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrEmptied\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrCueChange\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrError\", void 0);\n\n__decorate([Output(), __metadata(\"design:type\", Object)], PlyrComponent.prototype, \"plyrStateChange\", void 0);\n\nPlyrComponent = __decorate([__metadata(\"design:paramtypes\", [ElementRef, NgZone, Renderer2])], PlyrComponent);\n\nvar PlyrModule = function PlyrModule() {\n  _classCallCheck(this, PlyrModule);\n};\n\nPlyrModule.ɵfac = function PlyrModule_Factory(t) {\n  return new (t || PlyrModule)();\n};\n\nPlyrModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n  type: PlyrModule\n});\nPlyrModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PlyrComponent, [{\n    type: Component,\n    args: [{\n      selector: 'plyr, [plyr]',\n      template: \"\",\n      exportAs: 'plyr',\n      styles: [\"\"]\n    }]\n  }], function () {\n    return [{\n      type: ɵngcc0.ElementRef\n    }, {\n      type: ɵngcc0.NgZone\n    }, {\n      type: ɵngcc0.Renderer2\n    }];\n  }, {\n    plyrType: [{\n      type: Input\n    }],\n    plyrInit: [{\n      type: Output\n    }],\n    plyrProgress: [{\n      type: Output\n    }],\n    plyrPlaying: [{\n      type: Output\n    }],\n    plyrPlay: [{\n      type: Output\n    }],\n    plyrPause: [{\n      type: Output\n    }],\n    plyrTimeUpdate: [{\n      type: Output\n    }],\n    plyrVolumeChange: [{\n      type: Output\n    }],\n    plyrSeeking: [{\n      type: Output\n    }],\n    plyrSeeked: [{\n      type: Output\n    }],\n    plyrRateChange: [{\n      type: Output\n    }],\n    plyrEnded: [{\n      type: Output\n    }],\n    plyrEnterFullScreen: [{\n      type: Output\n    }],\n    plyrExitFullScreen: [{\n      type: Output\n    }],\n    plyrCaptionsEnabled: [{\n      type: Output\n    }],\n    plyrCaptionsDisabled: [{\n      type: Output\n    }],\n    plyrLanguageChange: [{\n      type: Output\n    }],\n    plyrControlsHidden: [{\n      type: Output\n    }],\n    plyrControlsShown: [{\n      type: Output\n    }],\n    plyrReady: [{\n      type: Output\n    }],\n    plyrLoadStart: [{\n      type: Output\n    }],\n    plyrLoadedData: [{\n      type: Output\n    }],\n    plyrLoadedMetadata: [{\n      type: Output\n    }],\n    plyrQualityChange: [{\n      type: Output\n    }],\n    plyrCanPlay: [{\n      type: Output\n    }],\n    plyrCanPlayThrough: [{\n      type: Output\n    }],\n    plyrStalled: [{\n      type: Output\n    }],\n    plyrWaiting: [{\n      type: Output\n    }],\n    plyrEmptied: [{\n      type: Output\n    }],\n    plyrCueChange: [{\n      type: Output\n    }],\n    plyrError: [{\n      type: Output\n    }],\n    plyrStateChange: [{\n      type: Output\n    }],\n    plyrDriver: [{\n      type: Input\n    }],\n    plyrTitle: [{\n      type: Input\n    }],\n    plyrPoster: [{\n      type: Input\n    }],\n    plyrSources: [{\n      type: Input\n    }],\n    plyrTracks: [{\n      type: Input\n    }],\n    plyrOptions: [{\n      type: Input\n    }],\n    plyrCrossOrigin: [{\n      type: Input\n    }],\n    plyrPlaysInline: [{\n      type: Input\n    }],\n    vr: [{\n      type: ViewChild,\n      args: ['v']\n    }]\n  });\n})();\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PlyrModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [PlyrComponent],\n      exports: [PlyrComponent]\n    }]\n  }], null, null);\n})();\n\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(PlyrModule, {\n    declarations: [PlyrComponent],\n    exports: [PlyrComponent]\n  });\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { DefaultPlyrDriver, PlyrComponent, PlyrModule }; //# sourceMappingURL=ngx-plyr.js.map","map":{"version":3,"sources":["/Users/mac/Apps/sr-manager/srmanager/node_modules/ngx-plyr/__ivy_ngcc__/fesm2015/ngx-plyr.js"],"names":["Plyr","__decorate","__metadata","ElementRef","NgZone","Renderer2","Input","ViewChild","Output","Component","NgModule","BehaviorSubject","Observable","filter","first","switchMap","ɵngcc0","_c0","DefaultPlyrDriver","params","videoElement","options","plyr","source","destroy","PlyrComponent","elementRef","ngZone","renderer","playerChange","events","Map","plyrType","plyrInit","pipe","player","plyrProgress","createLazyEvent","plyrPlaying","plyrPlay","plyrPause","plyrTimeUpdate","plyrVolumeChange","plyrSeeking","plyrSeeked","plyrRateChange","plyrEnded","plyrEnterFullScreen","plyrExitFullScreen","plyrCaptionsEnabled","plyrCaptionsDisabled","plyrLanguageChange","plyrControlsHidden","plyrControlsShown","plyrReady","plyrLoadStart","plyrLoadedData","plyrLoadedMetadata","plyrQualityChange","plyrCanPlay","plyrCanPlayThrough","plyrStalled","plyrWaiting","plyrEmptied","plyrCueChange","plyrError","plyrStateChange","subscriptions","getValue","changes","push","subscribe","reinitTriggers","plyrOptions","plyrPlaysInline","plyrCrossOrigin","t","length","some","firstChange","initPlyr","updatePlyrSource","destroyPlayer","forEach","s","unsubscribe","force","runOutsideAngular","driver","plyrDriver","ensureVideoElement","newPlayer","create","next","updateSource","type","title","plyrTitle","sources","plyrSources","poster","plyrPoster","tracks","plyrTracks","name","observer","on","data","run","Array","from","keys","off","nativeElement","hostElement","querySelector","createElement","controls","setAttribute","appendChild","handler","set","get","delete","ɵfac","PlyrComponent_Factory","ɵɵdirectiveInject","ɵcmp","ɵɵdefineComponent","selectors","viewQuery","PlyrComponent_Query","rf","ctx","ɵɵviewQuery","_t","ɵɵqueryRefresh","ɵɵloadQuery","vr","inputs","outputs","exportAs","features","ɵɵNgOnChangesFeature","decls","vars","template","PlyrComponent_Template","styles","ctorParameters","Object","prototype","String","Boolean","PlyrModule","PlyrModule_Factory","ɵmod","ɵɵdefineNgModule","ɵinj","ɵɵdefineInjector","ngDevMode","ɵsetClassMetadata","args","selector","declarations","exports","ngJitMode","ɵɵsetNgModuleScope"],"mappings":"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","sourcesContent":["import * as Plyr from 'plyr';\nimport { __decorate, __metadata } from 'tslib';\nimport { ElementRef, NgZone, Renderer2, Input, ViewChild, Output, Component, NgModule } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { filter, first, switchMap } from 'rxjs/operators';\n\nimport * as ɵngcc0 from '@angular/core';\n\nconst _c0 = [\"v\"];\nclass DefaultPlyrDriver {\n    create(params) {\n        return new Plyr(params.videoElement, params.options);\n    }\n    updateSource(params) {\n        params.plyr.source = params.source;\n    }\n    destroy(params) {\n        params.plyr.destroy();\n    }\n}\n\nlet PlyrComponent = class PlyrComponent {\n    constructor(elementRef, ngZone, renderer) {\n        this.elementRef = elementRef;\n        this.ngZone = ngZone;\n        this.renderer = renderer;\n        this.playerChange = new BehaviorSubject(null);\n        this.events = new Map();\n        this.plyrType = 'video';\n        // ngx-plyr events\n        this.plyrInit = this.playerChange.pipe(filter(player => !!player));\n        // standard media events\n        this.plyrProgress = this.createLazyEvent('progress');\n        this.plyrPlaying = this.createLazyEvent('playing');\n        this.plyrPlay = this.createLazyEvent('play');\n        this.plyrPause = this.createLazyEvent('pause');\n        this.plyrTimeUpdate = this.createLazyEvent('timeupdate');\n        this.plyrVolumeChange = this.createLazyEvent('volumechange');\n        this.plyrSeeking = this.createLazyEvent('seeking');\n        this.plyrSeeked = this.createLazyEvent('seeked');\n        this.plyrRateChange = this.createLazyEvent('ratechange');\n        this.plyrEnded = this.createLazyEvent('ended');\n        this.plyrEnterFullScreen = this.createLazyEvent('enterfullscreen');\n        this.plyrExitFullScreen = this.createLazyEvent('exitfullscreen');\n        this.plyrCaptionsEnabled = this.createLazyEvent('captionsenabled');\n        this.plyrCaptionsDisabled = this.createLazyEvent('captionsdisabled');\n        this.plyrLanguageChange = this.createLazyEvent('languagechange');\n        this.plyrControlsHidden = this.createLazyEvent('controlshidden');\n        this.plyrControlsShown = this.createLazyEvent('controlsshown');\n        this.plyrReady = this.createLazyEvent('ready');\n        // HTML5 events\n        this.plyrLoadStart = this.createLazyEvent('loadstart');\n        this.plyrLoadedData = this.createLazyEvent('loadeddata');\n        this.plyrLoadedMetadata = this.createLazyEvent('loadedmetadata');\n        this.plyrQualityChange = this.createLazyEvent('qualitychange');\n        this.plyrCanPlay = this.createLazyEvent('canplay');\n        this.plyrCanPlayThrough = this.createLazyEvent('canplaythrough');\n        this.plyrStalled = this.createLazyEvent('stalled');\n        this.plyrWaiting = this.createLazyEvent('waiting');\n        this.plyrEmptied = this.createLazyEvent('emptied');\n        this.plyrCueChange = this.createLazyEvent('cuechange');\n        this.plyrError = this.createLazyEvent('error');\n        // YouTube events\n        this.plyrStateChange = this.createLazyEvent('statechange');\n        this.subscriptions = [];\n    }\n    get player() {\n        return this.playerChange.getValue();\n    }\n    ngOnChanges(changes) {\n        this.subscriptions.push(this.plyrInit.pipe(first()).subscribe((player) => {\n            const reinitTriggers = [changes.plyrOptions, changes.plyrPlaysInline, changes.plyrCrossOrigin].filter(t => !!t);\n            if (reinitTriggers.length) {\n                if (reinitTriggers.some(t => !t.firstChange)) {\n                    this.initPlyr(true);\n                }\n            }\n            else {\n                this.updatePlyrSource(player);\n            }\n        }));\n    }\n    ngOnDestroy() {\n        this.destroyPlayer();\n        this.subscriptions.forEach(s => s.unsubscribe());\n    }\n    ngAfterViewInit() {\n        this.initPlyr();\n    }\n    initPlyr(force = false) {\n        if (force || !this.player) {\n            this.ngZone.runOutsideAngular(() => {\n                this.destroyPlayer();\n                this.driver = this.plyrDriver || new DefaultPlyrDriver();\n                this.ensureVideoElement();\n                const newPlayer = this.driver.create({\n                    videoElement: this.videoElement,\n                    options: this.plyrOptions,\n                });\n                this.updatePlyrSource(newPlayer);\n                this.playerChange.next(newPlayer);\n            });\n        }\n    }\n    updatePlyrSource(plyr) {\n        this.driver.updateSource({\n            videoElement: this.videoElement,\n            plyr,\n            source: {\n                type: this.plyrType,\n                title: this.plyrTitle,\n                sources: this.plyrSources,\n                poster: this.plyrPoster,\n                tracks: this.plyrTracks,\n            },\n        });\n    }\n    // see https://stackoverflow.com/a/53704102/1990451\n    createLazyEvent(name) {\n        return this.plyrInit.pipe(switchMap(() => new Observable(observer => this.on(name, (data) => this.ngZone.run(() => observer.next(data))))));\n    }\n    destroyPlayer() {\n        if (this.player) {\n            Array.from(this.events.keys()).forEach(name => this.off(name));\n            this.driver.destroy({\n                plyr: this.player,\n            });\n            this.videoElement = null;\n        }\n    }\n    get hostElement() {\n        return this.elementRef.nativeElement;\n    }\n    // this method is required because the plyr inserts clone of the original element on destroy\n    // so we catch the clone element right here and reuse it\n    ensureVideoElement() {\n        const videoElement = this.hostElement.querySelector('video');\n        if (videoElement) {\n            this.videoElement = videoElement;\n        }\n        else {\n            this.videoElement = this.renderer.createElement('video');\n            this.videoElement.controls = true;\n            if (this.plyrCrossOrigin) {\n                this.videoElement.setAttribute('crossorigin', '');\n            }\n            if (this.plyrPlaysInline) {\n                this.videoElement.setAttribute('playsinline', '');\n            }\n            this.renderer.appendChild(this.hostElement, this.videoElement);\n        }\n    }\n    on(name, handler) {\n        this.events.set(name, handler);\n        this.player.on(name, handler);\n    }\n    off(name) {\n        this.player.off(name, this.events.get(name));\n        this.events.delete(name);\n    }\n};\nPlyrComponent.ɵfac = function PlyrComponent_Factory(t) { return new (t || PlyrComponent)(ɵngcc0.ɵɵdirectiveInject(ɵngcc0.ElementRef), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.NgZone), ɵngcc0.ɵɵdirectiveInject(ɵngcc0.Renderer2)); };\nPlyrComponent.ɵcmp = /*@__PURE__*/ ɵngcc0.ɵɵdefineComponent({ type: PlyrComponent, selectors: [[\"plyr\"], [\"\", \"plyr\", \"\"]], viewQuery: function PlyrComponent_Query(rf, ctx) { if (rf & 1) {\n        ɵngcc0.ɵɵviewQuery(_c0, 5);\n    } if (rf & 2) {\n        let _t;\n        ɵngcc0.ɵɵqueryRefresh(_t = ɵngcc0.ɵɵloadQuery()) && (ctx.vr = _t.first);\n    } }, inputs: { plyrType: \"plyrType\", plyrDriver: \"plyrDriver\", plyrTitle: \"plyrTitle\", plyrPoster: \"plyrPoster\", plyrSources: \"plyrSources\", plyrTracks: \"plyrTracks\", plyrOptions: \"plyrOptions\", plyrCrossOrigin: \"plyrCrossOrigin\", plyrPlaysInline: \"plyrPlaysInline\" }, outputs: { plyrInit: \"plyrInit\", plyrProgress: \"plyrProgress\", plyrPlaying: \"plyrPlaying\", plyrPlay: \"plyrPlay\", plyrPause: \"plyrPause\", plyrTimeUpdate: \"plyrTimeUpdate\", plyrVolumeChange: \"plyrVolumeChange\", plyrSeeking: \"plyrSeeking\", plyrSeeked: \"plyrSeeked\", plyrRateChange: \"plyrRateChange\", plyrEnded: \"plyrEnded\", plyrEnterFullScreen: \"plyrEnterFullScreen\", plyrExitFullScreen: \"plyrExitFullScreen\", plyrCaptionsEnabled: \"plyrCaptionsEnabled\", plyrCaptionsDisabled: \"plyrCaptionsDisabled\", plyrLanguageChange: \"plyrLanguageChange\", plyrControlsHidden: \"plyrControlsHidden\", plyrControlsShown: \"plyrControlsShown\", plyrReady: \"plyrReady\", plyrLoadStart: \"plyrLoadStart\", plyrLoadedData: \"plyrLoadedData\", plyrLoadedMetadata: \"plyrLoadedMetadata\", plyrQualityChange: \"plyrQualityChange\", plyrCanPlay: \"plyrCanPlay\", plyrCanPlayThrough: \"plyrCanPlayThrough\", plyrStalled: \"plyrStalled\", plyrWaiting: \"plyrWaiting\", plyrEmptied: \"plyrEmptied\", plyrCueChange: \"plyrCueChange\", plyrError: \"plyrError\", plyrStateChange: \"plyrStateChange\" }, exportAs: [\"plyr\"], features: [ɵngcc0.ɵɵNgOnChangesFeature], decls: 0, vars: 0, template: function PlyrComponent_Template(rf, ctx) { }, styles: [\"\"] });\nPlyrComponent.ctorParameters = () => [\n    { type: ElementRef },\n    { type: NgZone },\n    { type: Renderer2 }\n];\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrDriver\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], PlyrComponent.prototype, \"plyrType\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], PlyrComponent.prototype, \"plyrTitle\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", String)\n], PlyrComponent.prototype, \"plyrPoster\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], PlyrComponent.prototype, \"plyrSources\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Array)\n], PlyrComponent.prototype, \"plyrTracks\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrOptions\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], PlyrComponent.prototype, \"plyrCrossOrigin\", void 0);\n__decorate([\n    Input(),\n    __metadata(\"design:type\", Boolean)\n], PlyrComponent.prototype, \"plyrPlaysInline\", void 0);\n__decorate([\n    ViewChild('v'),\n    __metadata(\"design:type\", ElementRef)\n], PlyrComponent.prototype, \"vr\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrInit\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrProgress\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrPlaying\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrPlay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrPause\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrTimeUpdate\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrVolumeChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrSeeking\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrSeeked\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrRateChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrEnded\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrEnterFullScreen\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrExitFullScreen\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrCaptionsEnabled\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrCaptionsDisabled\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrLanguageChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrControlsHidden\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrControlsShown\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrReady\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrLoadStart\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrLoadedData\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrLoadedMetadata\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrQualityChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrCanPlay\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrCanPlayThrough\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrStalled\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrWaiting\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrEmptied\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrCueChange\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrError\", void 0);\n__decorate([\n    Output(),\n    __metadata(\"design:type\", Object)\n], PlyrComponent.prototype, \"plyrStateChange\", void 0);\nPlyrComponent = __decorate([ __metadata(\"design:paramtypes\", [ElementRef,\n        NgZone,\n        Renderer2])\n], PlyrComponent);\n\nlet PlyrModule = class PlyrModule {\n};\nPlyrModule.ɵfac = function PlyrModule_Factory(t) { return new (t || PlyrModule)(); };\nPlyrModule.ɵmod = /*@__PURE__*/ ɵngcc0.ɵɵdefineNgModule({ type: PlyrModule });\nPlyrModule.ɵinj = /*@__PURE__*/ ɵngcc0.ɵɵdefineInjector({});\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PlyrComponent, [{\n        type: Component,\n        args: [{\n                selector: 'plyr, [plyr]',\n                template: \"\",\n                exportAs: 'plyr',\n                styles: [\"\"]\n            }]\n    }], function () { return [{ type: ɵngcc0.ElementRef }, { type: ɵngcc0.NgZone }, { type: ɵngcc0.Renderer2 }]; }, { plyrType: [{\n            type: Input\n        }], plyrInit: [{\n            type: Output\n        }], plyrProgress: [{\n            type: Output\n        }], plyrPlaying: [{\n            type: Output\n        }], plyrPlay: [{\n            type: Output\n        }], plyrPause: [{\n            type: Output\n        }], plyrTimeUpdate: [{\n            type: Output\n        }], plyrVolumeChange: [{\n            type: Output\n        }], plyrSeeking: [{\n            type: Output\n        }], plyrSeeked: [{\n            type: Output\n        }], plyrRateChange: [{\n            type: Output\n        }], plyrEnded: [{\n            type: Output\n        }], plyrEnterFullScreen: [{\n            type: Output\n        }], plyrExitFullScreen: [{\n            type: Output\n        }], plyrCaptionsEnabled: [{\n            type: Output\n        }], plyrCaptionsDisabled: [{\n            type: Output\n        }], plyrLanguageChange: [{\n            type: Output\n        }], plyrControlsHidden: [{\n            type: Output\n        }], plyrControlsShown: [{\n            type: Output\n        }], plyrReady: [{\n            type: Output\n        }], plyrLoadStart: [{\n            type: Output\n        }], plyrLoadedData: [{\n            type: Output\n        }], plyrLoadedMetadata: [{\n            type: Output\n        }], plyrQualityChange: [{\n            type: Output\n        }], plyrCanPlay: [{\n            type: Output\n        }], plyrCanPlayThrough: [{\n            type: Output\n        }], plyrStalled: [{\n            type: Output\n        }], plyrWaiting: [{\n            type: Output\n        }], plyrEmptied: [{\n            type: Output\n        }], plyrCueChange: [{\n            type: Output\n        }], plyrError: [{\n            type: Output\n        }], plyrStateChange: [{\n            type: Output\n        }], plyrDriver: [{\n            type: Input\n        }], plyrTitle: [{\n            type: Input\n        }], plyrPoster: [{\n            type: Input\n        }], plyrSources: [{\n            type: Input\n        }], plyrTracks: [{\n            type: Input\n        }], plyrOptions: [{\n            type: Input\n        }], plyrCrossOrigin: [{\n            type: Input\n        }], plyrPlaysInline: [{\n            type: Input\n        }], vr: [{\n            type: ViewChild,\n            args: ['v']\n        }] }); })();\n(function () { (typeof ngDevMode === \"undefined\" || ngDevMode) && ɵngcc0.ɵsetClassMetadata(PlyrModule, [{\n        type: NgModule,\n        args: [{\n                declarations: [\n                    PlyrComponent,\n                ],\n                exports: [\n                    PlyrComponent,\n                ]\n            }]\n    }], null, null); })();\n(function () { (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(PlyrModule, { declarations: [PlyrComponent], exports: [PlyrComponent] }); })();\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { DefaultPlyrDriver, PlyrComponent, PlyrModule };\n\n//# sourceMappingURL=ngx-plyr.js.map"]},"metadata":{},"sourceType":"module"}