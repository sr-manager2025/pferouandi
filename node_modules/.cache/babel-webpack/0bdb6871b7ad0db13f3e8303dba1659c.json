{"ast":null,"code":"// Hot Module Replacement\nfunction identity(val) {\n  return val;\n}\n\nexport function bootloader(main, before, after) {\n  if (typeof main === 'object') {\n    var _main = main.main;\n    before = main.before;\n    after = main.after;\n    main = _main;\n  }\n\n  before = before || identity;\n  after = after || identity;\n  var readyState = document.readyState;\n\n  function __domReadyHandler() {\n    document.removeEventListener('DOMContentLoaded', __domReadyHandler);\n    after(main(before(readyState)));\n  }\n\n  switch (readyState) {\n    case 'loading':\n      document.addEventListener('DOMContentLoaded', __domReadyHandler);\n      break;\n\n    case 'interactive':\n    case 'complete':\n    default:\n      after(main(before(readyState)));\n  }\n} // create new host elements and remove the old elements\n\nexport function createNewHosts(cmps) {\n  var components = Array.prototype.map.call(cmps, function (componentNode) {\n    var newNode = document.createElement(componentNode.tagName);\n    var parentNode = componentNode.parentNode;\n    var currentDisplay = newNode.style.display;\n    newNode.style.display = 'none';\n    parentNode.insertBefore(newNode, componentNode);\n\n    function removeOldHost() {\n      newNode.style.display = currentDisplay;\n\n      try {\n        parentNode.removeChild(componentNode);\n      } catch (e) {}\n    }\n\n    return removeOldHost;\n  });\n  return function removeOldHosts() {\n    components.forEach(function (removeOldHost) {\n      return removeOldHost();\n    });\n  };\n} // remove old styles\n\nexport function removeNgStyles() {\n  var docHead = document.head;\n\n  var _styles = docHead.querySelectorAll('style');\n\n  var styles = Array.prototype.slice.call(_styles);\n  styles.filter(function (style) {\n    return style.innerText.indexOf('_ng') !== -1;\n  }).map(function (el) {\n    return docHead.removeChild(el);\n  });\n} // get input values\n\nexport function getInputValues() {\n  var _inputs = document.querySelectorAll('input');\n\n  var inputs = Array.prototype.slice.call(_inputs);\n  return inputs.map(function (input) {\n    return input.value;\n  });\n} // set input values\n\nexport function setInputValues(_inputs) {\n  var inputs = document.querySelectorAll('input');\n\n  if (_inputs && inputs.length === _inputs.length) {\n    _inputs.forEach(function (value, i) {\n      var el = inputs[i];\n      el.value = value;\n      el.dispatchEvent(new CustomEvent('input', {\n        detail: el.value\n      }));\n    }); // clear array\n\n\n    _inputs.length = 0;\n  }\n} // get/set input values\n\nexport function createInputTransfer() {\n  var _inputs = getInputValues();\n\n  return function restoreInputValues() {\n    return setInputValues(_inputs);\n  };\n} //# sourceMappingURL=helpers.js.map","map":null,"metadata":{},"sourceType":"module"}